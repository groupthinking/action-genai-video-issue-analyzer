{
  "$schema": "https://modelcontextprotocol.io/schema/1.0/mcp-config.json",
  "name": "uvai-video-analyzer",
  "version": "1.0.0",
  "description": "UVAI Video-to-Agentic Action MCP Server - Transform video content into executable code and workflows",

  "server": {
    "transport": "stdio",
    "command": "npx",
    "args": ["tsx", "src/mcp/server.ts"]
  },

  "capabilities": {
    "resources": true,
    "tools": true,
    "prompts": true
  },

  "resources": [
    {
      "uri": "uvai://health",
      "name": "Service Health",
      "description": "Current service health status including version and environment",
      "mimeType": "application/json"
    },
    {
      "uri": "uvai://schema/agentic-output",
      "name": "AgenticOutput Schema",
      "description": "JSON Schema for the structured AI analysis output format",
      "mimeType": "application/json"
    },
    {
      "uri": "uvai://docs/api",
      "name": "API Documentation",
      "description": "OpenAPI 3.0 specification for all endpoints",
      "mimeType": "application/yaml"
    }
  ],

  "tools": [
    {
      "name": "analyze_video",
      "description": "Analyze a video URL and extract structured agentic output including endpoints, capabilities, workflows, and code artifacts",
      "inputSchema": {
        "type": "object",
        "properties": {
          "videoUrl": {
            "type": "string",
            "format": "uri",
            "description": "URL of the video to analyze (YouTube, direct MP4, etc.)"
          },
          "items": {
            "type": "string",
            "description": "Specific items to extract (default: API endpoints, model capabilities)",
            "default": "API endpoints, model capabilities, technical implementations"
          },
          "outputMode": {
            "type": "string",
            "enum": ["agentic", "simple"],
            "default": "agentic"
          }
        },
        "required": ["videoUrl"]
      }
    },
    {
      "name": "analyze_youtube",
      "description": "Analyze a YouTube video with URL validation and video ID extraction",
      "inputSchema": {
        "type": "object",
        "properties": {
          "youtubeUrl": {
            "type": "string",
            "format": "uri",
            "description": "YouTube video URL (youtube.com/watch, youtu.be, or embed format)"
          },
          "outputMode": {
            "type": "string",
            "enum": ["agentic", "simple"],
            "default": "agentic"
          }
        },
        "required": ["youtubeUrl"]
      }
    },
    {
      "name": "format_output",
      "description": "Convert AgenticOutput JSON to formatted Markdown for human-readable display",
      "inputSchema": {
        "type": "object",
        "properties": {
          "analysis": {
            "type": "object",
            "description": "AgenticOutput JSON object to format"
          }
        },
        "required": ["analysis"]
      }
    }
  ],

  "prompts": [
    {
      "name": "video_analysis",
      "description": "Comprehensive video analysis prompt for extracting technical implementations",
      "arguments": [
        {
          "name": "videoUrl",
          "description": "URL of the video to analyze",
          "required": true
        },
        {
          "name": "focus",
          "description": "Specific focus area (e.g., 'API design', 'architecture patterns')",
          "required": false
        }
      ]
    },
    {
      "name": "workflow_generation",
      "description": "Generate executable workflow from video content",
      "arguments": [
        {
          "name": "videoUrl",
          "description": "URL of the video to analyze",
          "required": true
        },
        {
          "name": "targetPlatform",
          "description": "Target platform for workflow (e.g., 'GitHub Actions', 'n8n', 'Cloudflare')",
          "required": false
        }
      ]
    }
  ],

  "a2a": {
    "enabled": true,
    "protocols": ["mcp-over-a2a"],
    "discovery": {
      "endpoint": "https://uvai.io/.well-known/a2a",
      "capabilities": [
        "video-analysis",
        "workflow-generation",
        "code-extraction"
      ]
    },
    "agents": {
      "gemini": {
        "role": "data-reasoning",
        "specialty": "Google Ecosystem tasks, multimodal video understanding"
      },
      "claude": {
        "role": "coding-architecture",
        "specialty": "Code generation, system architecture, implementation"
      }
    }
  }
}
